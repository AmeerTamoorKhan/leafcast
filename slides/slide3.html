<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Understanding GANs ‚Äî The Counterfeiter vs The Police</title>

<!-- Keep your original fonts -->
<link href="https://fonts.googleapis.com/css2?family=Gabarito:wght@400;700;900&family=JetBrains+Mono:wght@400;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

<!-- Template watermark icon (like your LeafCast title template) -->
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>

<style>
  /* =========================
     LEAFCAST TEMPLATE SHELL
     ========================= */
  :root {
    /* your original theme vars kept */
    --bg: #fafaf7;
    --surface: #ffffff;
    --border: #e8e5de;
    --text: #1a1a1a;
    --text-dim: #7a7a72;
    --red: #e74c3c;
    --red-bg: #fce4e4;
    --blue: #3b6de0;
    --blue-bg: #dde8fc;
    --green: #2ecc71;
    --green-bg: #d5f5e3;
    --yellow: #f0c940;
    --yellow-bg: #fef9e7;
    --orange: #e67e22;
    --purple: #8e44ad;
    --pink-bg: #fde8e8;
    --counterfeiter: #d63031;
    --police: #2d6cdf;
    --currency: #c5a83b;

    /* LeafCast template accent */
    --ucph-red: #901A1E;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  /* LeafCast template page background */
  body {
    background: #f3f4f6; /* like template */
    color: var(--text);
    font-family: 'Nunito', sans-serif;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Fixed slide canvas (template) */
  .slide-container {
    width: 1280px;
    height: 720px;
    display: flex;
    flex-direction: column;
    background-color: #ffffff;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 18px rgba(0,0,0,0.12);
    border-radius: 6px; /* slight polish */
  }

  /* Template background decor */
  .accent-bar {
    background-color: var(--ucph-red);
    height: 12px;
    width: 100%;
    flex: 0 0 auto;
    z-index: 10;
  }

  .top-left-decor {
    position: absolute;
    top: 0; left: 0;
    width: 200px;
    height: 200px;
    background-color: #f7fafc;
    border-bottom-right-radius: 100%;
    z-index: 0;
  }

  .decorative-circle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.05;
    background-color: var(--ucph-red);
    z-index: 0;
  }

  .grid-pattern {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(144, 26, 30, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(144, 26, 30, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: 0;
    pointer-events: none;
  }

  .leaf-icon {
    color: var(--ucph-red);
    opacity: 0.09;
    position: absolute;
    font-size: 420px;
    right: -60px;
    bottom: -80px;
    transform: rotate(-15deg);
    z-index: 0;
    pointer-events: none;
  }

  /* Main deck stage (everything interactive lives here) */
  .deck-stage {
    position: relative;
    flex: 1;
    z-index: 10;
    overflow: hidden;
  }

  /* Template footer (optional)
     If you want to REMOVE it, delete this whole .deck-footer block in HTML. */
  .deck-footer {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding: 18px 48px;
    width: 100%;
    z-index: 10;
    background: transparent;
    flex: 0 0 auto;
  }
  .ucph-lockup {
    display: flex;
    flex-direction: column;
    border-left: 4px solid var(--ucph-red);
    padding-left: 12px;
  }
  .ucph-lockup .l1 {
    font-size: 11px;
    font-weight: 800;
    letter-spacing: 2px;
    color: #1f2937;
    text-transform: uppercase;
    line-height: 1.1;
  }
  .ucph-lockup .l2 {
    font-size: 13px;
    font-weight: 900;
    letter-spacing: 2px;
    color: #7f1d1d;
    text-transform: uppercase;
    line-height: 1.1;
    margin-top: 4px;
  }
  .deck-date {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: #9ca3af;
  }
  .bottom-accent {
    width: 100%;
    height: 10px;
    background: #f3f4f6;
    flex: 0 0 auto;
    z-index: 10;
  }

  /* =========================
     YOUR ORIGINAL DECK CSS
     (only POSITIONING tweaked to live inside template)
     ========================= */

  /* ===== PROGRESS BAR ===== */
  .progress-track {
    position: absolute;              /* was fixed */
    top: 0; left: 0; right: 0;       /* inside deck-stage */
    height: 5px;
    background: var(--border);
    z-index: 100;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--counterfeiter), var(--police));
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 0 3px 3px 0;
  }

  /* ===== SLIDE CONTAINER (your slides wrapper) ===== */
  .slides-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .slide {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.6s ease, transform 0.6s ease;
    transform: translateX(60px);
  }
  .slide.active {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
  }
  .slide.exit {
    opacity: 0;
    transform: translateX(-60px);
  }

  /* ===== NAV CONTROLS ===== */
  .nav-controls {
    position: absolute;   /* was fixed */
    bottom: 15px;         /* lifted above template footer */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 16px;
    z-index: 50;
    background: var(--surface);
    padding: 10px 20px;
    border-radius: 50px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.04);
    border: 1px solid var(--border);
  }
  .nav-btn {
    width: 44px; height: 44px;
    border-radius: 50%;
    border: 2px solid var(--border);
    background: var(--surface);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    color: var(--text);
    transition: all 0.25s;
  }
  .nav-btn:hover:not(:disabled) {
    background: var(--text);
    color: var(--surface);
    border-color: var(--text);
    transform: scale(1.08);
  }
  .nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
  .slide-counter {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-dim);
    min-width: 60px;
    text-align: center;
  }
  .dot-nav { display: flex; gap: 6px; }
  .dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--border);
    cursor: pointer;
    transition: all 0.3s;
  }
  .dot.active { background: var(--text); transform: scale(1.3); }
  .dot:hover { background: var(--text-dim); }

  /* ===== KEYBOARD HINT ===== */
  .kb-hint {
    position: absolute;   /* was fixed */
    bottom: 10px;        /* above nav-controls */
    left: 50%;
    transform: translateX(-50%);
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    opacity: 0.6;
    z-index: 50;
  }
  .kb-hint kbd {
    background: var(--surface);
    border: 1px solid var(--border);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.06);
  }

  /* ===== COMMON COMPONENTS ===== */
  .slide-badge {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 6px 16px;
    border-radius: 6px;
    margin-bottom: 20px;
    display: inline-block;
  }
  .slide-title {
    font-family: 'Gabarito', sans-serif;
    font-weight: 900;
    font-size: clamp(28px, 4vw, 52px);
    text-align: center;
    line-height: 1.15;
    margin-bottom: 16px;
  }
  .slide-subtitle {
    font-size: clamp(15px, 2vw, 19px);
    color: var(--text-dim);
    text-align: center;
    max-width: 650px;
    line-height: 1.6;
    margin-bottom: 30px;
  }

  /* ===== CURRENCY NOTE ===== */
  .currency-note {
    width: clamp(280px, 50vw, 480px);
    aspect-ratio: 2.2/1;
    background: repeating-linear-gradient(45deg, #fdf6e3, #fdf6e3 2px, #faf3dc 2px, #faf3dc 4px);
    border: 3px solid var(--currency);
    border-radius: 12px;
    display: grid;
    grid-template-columns: auto 1fr auto;
    grid-template-rows: 1fr auto;
    padding: 16px 20px;
    gap: 8px;
    position: relative;
    box-shadow: 0 8px 30px rgba(0,0,0,0.08);
    transition: all 0.5s;
  }
  .currency-note .denom {
    font-family: 'Gabarito', sans-serif;
    font-size: clamp(36px, 5vw, 56px);
    font-weight: 900;
    color: #3a3520;
    align-self: start;
  }
  .currency-note .bank-name {
    font-family: 'Gabarito', sans-serif;
    font-weight: 700;
    font-size: clamp(16px, 2.5vw, 26px);
    color: #3a3520;
    text-align: center;
    align-self: center;
  }
  .currency-note .seal {
    width: clamp(50px, 8vw, 80px);
    height: clamp(50px, 8vw, 80px);
    border-radius: 50%;
    background: var(--yellow);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(28px, 4vw, 44px);
    align-self: center;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
  }
  .currency-note .signature {
    grid-column: 1 / -1;
    font-family: 'Gabarito', sans-serif;
    font-style: italic;
    font-size: clamp(18px, 3vw, 32px);
    color: var(--blue);
    opacity: 0.7;
  }

  /* Features column */
  .features-col {
    background: var(--red-bg);
    border-radius: 12px;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    align-items: center;
    min-width: 100px;
    border: 2px solid #f0c0c0;
  }
  .feature-item {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    text-align: center;
    padding: 6px;
    background: white;
    border-radius: 6px;
    width: 100%;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.4s ease;
  }
  .feature-item.show { opacity: 1; transform: translateY(0); }
  .feature-item .feat-icon { font-size: 20px; display: block; margin-bottom: 2px; }

  /* ===== FLOW DIAGRAM ===== */
  .flow-diagram {
    display: flex;
    align-items: center;
    gap: clamp(8px, 2vw, 24px);
    flex-wrap: nowrap;
    max-width: 95vw;
  }
  .flow-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    min-width: 80px;
  }
  .flow-box .avatar {
    width: clamp(70px, 10vw, 120px);
    height: clamp(70px, 10vw, 120px);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(36px, 5vw, 60px);
    position: relative;
    transition: all 0.4s;
  }
  .flow-box .avatar.counterfeiter-avatar { background: var(--red-bg); border: 3px solid var(--counterfeiter); }
  .flow-box .avatar.police-avatar { background: var(--blue-bg); border: 3px solid var(--police); }
  .flow-box .avatar.paper-avatar { background: #f5f5f0; border: 2px dashed var(--border); }
  .flow-box .avatar.market-avatar {
    background: var(--yellow-bg);
    border: 2px solid var(--currency);
    padding: 8px;
    overflow: hidden;
  }
  .flow-box .flow-label {
    font-family: 'Gabarito', sans-serif;
    font-weight: 700;
    font-size: clamp(12px, 1.5vw, 16px);
    text-align: center;
  }
  .flow-arrow {
    font-size: clamp(24px, 3vw, 40px);
    color: var(--blue);
    flex-shrink: 0;
    transition: all 0.3s;
  }
  .flow-arrow.animated { animation: arrow-bounce 1s ease-in-out infinite; }
  @keyframes arrow-bounce { 0%,100%{transform:translateX(0);} 50%{transform:translateX(6px);} }

  /* Feedback loop arrow */
  .feedback-bar {
    position: relative;
    width: 80%;
    max-width: 700px;
    height: 40px;
    margin-bottom: 10px;
  }
  .feedback-bar svg { width: 100%; height: 100%; }

  /* ===== FAKE CONFIDENCE BADGE ===== */
  .confidence-badge {
    font-family: 'Gabarito', sans-serif;
    font-weight: 900;
    font-size: clamp(32px, 5vw, 56px);
    padding: 12px 28px;
    border-radius: 12px;
    text-align: center;
    line-height: 1;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    transition: all 0.5s;
  }
  .confidence-badge small {
    display: block;
    font-size: 14px;
    font-weight: 600;
    margin-top: 4px;
    opacity: 0.7;
  }

  /* ===== MINI CURRENCY IN FLOW ===== */
  .mini-note {
    width: clamp(80px, 12vw, 140px);
    aspect-ratio: 2/1;
    background: repeating-linear-gradient(45deg, #fdf6e3, #fdf6e3 2px, #faf3dc 2px, #faf3dc 4px);
    border: 2px solid var(--currency);
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Gabarito', sans-serif;
    font-size: clamp(8px, 1.2vw, 12px);
    font-weight: 700;
    color: #3a3520;
    position: relative;
    overflow: hidden;
    transition: all 0.5s;
  }
  .mini-note .mini-denom { font-size: clamp(16px, 2vw, 24px); font-weight: 900; }
  .mini-note.empty { opacity: 0.3; border-style: dashed; }
  .mini-note.partial { opacity: 0.7; }
  .mini-note.good { opacity: 1; }

  /* Real notes stack */
  .real-stack { position: relative; width: clamp(90px, 13vw, 150px); height: clamp(60px, 8vw, 100px); }
  .real-stack .stack-note {
    position: absolute;
    width: 100%;
    height: 80%;
    background: repeating-linear-gradient(45deg, #fdf6e3, #fdf6e3 2px, #faf3dc 2px, #faf3dc 4px);
    border: 2px solid var(--currency);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Gabarito', sans-serif;
    font-weight: 900;
    font-size: clamp(14px, 2vw, 20px);
    color: #3a3520;
  }
  .real-stack .stack-note:nth-child(1) { top: 0; left: 0; }
  .real-stack .stack-note:nth-child(2) { top: 6px; left: 6px; }
  .real-stack .stack-note:nth-child(3) { top: 12px; left: 12px; z-index: 1; }

  /* ===== VS SECTION ===== */
  .vs-container { display: flex; align-items: center; gap: clamp(20px, 4vw, 60px); }
  .vs-character { display: flex; flex-direction: column; align-items: center; gap: 12px; }
  .vs-character .big-avatar {
    width: clamp(100px, 16vw, 180px);
    height: clamp(100px, 16vw, 180px);
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(50px, 8vw, 90px);
    transition: transform 0.4s;
  }
  .vs-character .big-avatar:hover { transform: scale(1.05) rotate(-3deg); }
  .vs-character .char-name { font-family: 'Gabarito', sans-serif; font-weight: 900; font-size: clamp(18px, 2.5vw, 28px); }
  .vs-character .char-role { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: var(--text-dim); letter-spacing: 1px; }
  .vs-burst {
    font-family: 'Gabarito', sans-serif;
    font-weight: 900;
    font-size: clamp(36px, 6vw, 72px);
    color: var(--orange);
    text-shadow: 3px 3px 0 var(--yellow);
    animation: vs-pulse 1.5s ease-in-out infinite;
  }
  @keyframes vs-pulse { 0%,100%{transform:scale(1) rotate(-3deg);} 50%{transform:scale(1.1) rotate(3deg);} }

  /* ===== SPEECH BUBBLE ===== */
  .speech-bubble {
    background: var(--green-bg);
    border-radius: 20px;
    padding: 20px 28px;
    font-family: 'Gabarito', sans-serif;
    font-weight: 700;
    font-size: clamp(18px, 2.5vw, 28px);
    color: #1a4a2a;
    position: relative;
    max-width: 320px;
    text-align: center;
    box-shadow: 0 4px 16px rgba(0,0,0,0.06);
  }
  .speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -14px;
    left: 40px;
    width: 0; height: 0;
    border-left: 16px solid transparent;
    border-right: 16px solid transparent;
    border-top: 16px solid var(--green-bg);
  }

  /* ===== STEP-BY-STEP EVOLVE ===== */
  .evolve-row { display: flex; align-items: flex-end; gap: clamp(12px, 2vw, 24px); flex-wrap: wrap; justify-content: center; }
  .evolve-step { display: flex; flex-direction: column; align-items: center; gap: 8px; opacity: 0; transform: translateY(20px); transition: all 0.5s ease; }
  .evolve-step.show { opacity: 1; transform: translateY(0); }
  .evolve-step .step-label { font-family: 'JetBrains Mono', monospace; font-size: 10px; letter-spacing: 1px; color: var(--text-dim); text-transform: uppercase; }
  .evolve-step .step-note {
    width: 100px; height: 52px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Gabarito', sans-serif;
    font-weight: 700; font-size: 10px; text-align: center;
    transition: all 0.4s;
  }
  .step-note.blank { background: #f5f5f0; border: 2px dashed var(--border); color: var(--text-dim); }
  .step-note.bad { background: #fce4e4; border: 2px solid var(--red); color: var(--red); }
  .step-note.medium { background: var(--yellow-bg); border: 2px solid var(--orange); color: var(--orange); }
  .step-note.good { background: #e8f8e8; border: 2px solid var(--green); color: #1a7a3a; }
  .step-note.perfect { background: repeating-linear-gradient(45deg, #fdf6e3, #fdf6e3 2px, #faf3dc 2px, #faf3dc 4px); border: 2px solid var(--currency); color: #3a3520; }
  .evolve-arrow { font-size: 24px; color: var(--text-dim); align-self: center; opacity: 0; transition: all 0.4s; }
  .evolve-arrow.show { opacity: 1; }

  /* ===== MATH FORMULA ===== */
  .formula-box {
    background: #1a1a2e;
    color: #e8e8f0;
    padding: 24px 36px;
    border-radius: 12px;
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(12px, 1.8vw, 18px);
    text-align: center;
    line-height: 2;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
    max-width: 90vw;
  }
  .formula-box .math-red { color: var(--red); }
  .formula-box .math-blue { color: #5dade2; }
  .formula-box .math-yellow { color: var(--yellow); }
  .formula-box .math-green { color: var(--green); }

  /* ===== INTERACTIVE ELEMENTS ===== */
  .click-prompt {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--blue);
    cursor: pointer;
    padding: 8px 16px;
    border: 1px dashed var(--blue);
    border-radius: 8px;
    background: var(--blue-bg);
    transition: all 0.3s;
    margin-top: 12px;
  }
  .click-prompt:hover { background: var(--blue); color: white; }

  /* ===== PLANT GAN (unchanged) ===== */
  .plant-canvas {
    width: clamp(240px, 35vw, 360px);
    height: clamp(280px, 50vh, 400px);
    background: linear-gradient(180deg, #e8f4fd 0%, #d0eaff 69%, #8B6B3D 30%, #8B6B3D 32%, #5C4125 32%, #5C4125 100%);
    border-radius: 20px;
    border: 3px solid var(--border);
    position: relative;
    overflow: hidden;
    box-shadow: 0 8px 30px rgba(0,0,0,0.1);
    transition: all 0.6s ease;
  }
  .plant-canvas .sun {
    position: absolute; top: 12px; right: 16px;
    width: 36px; height: 36px;
    border-radius: 50%;
    background: var(--yellow);
    box-shadow: 0 0 20px #f0c94088, 0 0 60px #f0c94033;
  }
  .plant-canvas .cloud { position: absolute; top: 18px; left: 16px; font-size: 24px; opacity: 0.5; }
  .plant-canvas .ground-label {
    position: absolute; bottom: 6px; left: 50%;
    transform: translateX(-50%);
    font-family: 'JetBrains Mono', monospace;
    font-size: 8px;
    color: #a08060;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  .plant-svg-wrap {
    position: absolute;
    bottom: 28%;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    height: 220px;
    transition: all 0.6s;
  }
  .plant-svg-wrap svg { width: 100%; height: 100%; overflow: visible; }
  .plant-controls { display: flex; flex-direction: column; align-items: center; gap: 10px; min-width: 220px; }
  .plant-epoch-num { font-family: 'Gabarito', sans-serif; font-weight: 900; font-size: 44px; line-height: 1; transition: color 0.3s; }
  .plant-epoch-label { font-family: 'JetBrains Mono', monospace; font-size: 10px; letter-spacing: 2px; color: var(--text-dim); text-transform: uppercase; }
  .plant-slider {
    -webkit-appearance: none;
    width: 200px;
    height: 8px;
    border-radius: 4px;
    background: linear-gradient(90deg, var(--red), var(--orange), var(--yellow), var(--green));
    outline: none;
  }
  .plant-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px; height: 22px;
    border-radius: 50%;
    background: var(--surface);
    border: 3px solid var(--green);
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }
  .plant-desc-card { background: var(--surface); border: 2px solid var(--border); border-radius: 12px; padding: 12px 16px; max-width: 240px; transition: all 0.4s; }
  .plant-desc-title { font-family: 'Gabarito', sans-serif; font-weight: 700; font-size: 13px; margin-bottom: 4px; }
  .plant-desc-text { font-size: 11px; color: var(--text-dim); line-height: 1.5; }
  .plant-quality-bar { height: 5px; background: var(--border); border-radius: 3px; margin-top: 6px; overflow: hidden; }
  .plant-quality-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease, background 0.5s ease; }
  .plant-feature-chips { display: flex; flex-wrap: wrap; gap: 3px; margin-top: 6px; }
  .plant-chip { font-family: 'JetBrains Mono', monospace; font-size: 8px; padding: 2px 7px; border-radius: 10px; letter-spacing: 0.5px; transition: all 0.3s; }
  .plant-chip.active { background: #d5f5e3; color: #1a6a3a; border: 1px solid #a0d8a0; }
  .plant-chip.inactive { background: #f0f0ec; color: #bbb; border: 1px solid #e0e0d8; text-decoration: line-through; }
  .plant-play-btn {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    padding: 7px 18px;
    border: 2px solid var(--green);
    background: var(--green-bg);
    color: #1a6a3a;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
    transition: all 0.3s;
    letter-spacing: 1px;
  }
  .plant-play-btn:hover { background: var(--green); color: white; }
  .disc-verdict-plant {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: 6px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    padding: 5px 10px;
    border-radius: 8px;
    transition: all 0.4s;
    min-width:350px;
    max-width:350px;
  }
  .plant-demo-layout {
    display: flex;
    align-items: center;
    gap: clamp(16px, 3vw, 36px);
    flex-wrap: wrap;
    justify-content: center;
  }

  @media (max-width: 1300px), (max-height: 760px) {
    /* Optional: scale down if viewport smaller than 1280x720 */
    .slide-container { transform: scale(0.92); transform-origin: center; }
  }
</style>
</head>

<body>

<div class="slide-container">

  <!-- ===== Template Decorative Background Elements ===== -->
  <div class="top-left-decor"></div>
  <div class="decorative-circle" style="width:600px;height:600px;top:-200px;right:-200px;"></div>
  <div class="decorative-circle" style="width:300px;height:300px;bottom:90px;left:-100px;"></div>
  <div class="grid-pattern"></div>
  <i class="fas fa-leaf leaf-icon"></i>

  <!-- ===== Template Top Accent Bar ===== -->
  <div class="accent-bar"></div>

  <!-- ===== Deck Stage (your interactive slideshow lives here) ===== -->
  <div class="deck-stage">

    <div class="progress-track">
      <div class="progress-fill" id="progressFill" style="width:0%"></div>
    </div>

    <div class="slides-wrapper" id="slidesWrapper">

      <!-- =========================================================
           NOTE (REMOVING SLIDES)
           - To remove a slide: delete the entire <div class="slide" ...> block.
           - IF you remove slides BEFORE slide 1 / 9 / 11 / 12, update the
             triggerSlideAnimations(...) index checks (slideIndex===1,9,11,12).
           - Dots + total slide count update automatically.
         ========================================================= -->

      <!-- ===== SLIDE 0: TITLE ===== -->
      <div class="slide active" data-slide="0">
        <div class="slide-badge" style="background:var(--yellow-bg);color:var(--orange);border:1px solid #e8d48a;">Deep Learning Concept</div>
        <div class="slide-title">GANs: Generative<br>Adversarial Networks</div>
        <div class="slide-subtitle">
          Two neural networks locked in an epic battle ‚Äî a <strong style="color:var(--counterfeiter)">Counterfeiter</strong> trying to forge fake money vs a <strong style="color:var(--police)">Police Detective</strong> trying to catch them.
        </div>
        <div style="font-size:60px;margin:10px 0;">üé≠</div>
        <div class="click-prompt" onclick="nextSlide()">Click to begin the story ‚Üí</div>
      </div>

      <!-- ===== SLIDE 1: THE CURRENCY ===== -->
      <div class="slide" data-slide="1">
        <div class="slide-badge" style="background:var(--yellow-bg);color:#8a7520;border:1px solid #e8d48a;">Step 1 ‚Äî The Target</div>
        <div class="slide-title">The Real Currency</div>
        <div class="slide-subtitle">This is what a real banknote looks like. It has specific <strong>features</strong> that make it authentic.</div>

        <div style="display:flex;gap:clamp(16px,3vw,40px);align-items:center;flex-wrap:wrap;justify-content:center;">
          <div class="features-col" id="featuresCol">
            <div style="font-family:'Gabarito';font-weight:700;font-size:14px;color:var(--counterfeiter);">Features</div>
            <div class="feature-item" data-delay="0"><span class="feat-icon">üñºÔ∏è</span>Watermark</div>
            <div class="feature-item" data-delay="1"><span class="feat-icon">5Ô∏è‚É£</span>Denomination</div>
            <div class="feature-item" data-delay="2"><span class="feat-icon">üè¶</span>Bank Name</div>
            <div class="feature-item" data-delay="3"><span class="feat-icon">‚úçÔ∏è</span>Signature</div>
            <div class="feature-item" data-delay="4"><span class="feat-icon">üòä</span>Official Seal</div>
          </div>

          <div class="currency-note" id="realNote">
            <div class="denom">5</div>
            <div class="bank-name">State Bank of<br>XYZ</div>
            <div class="seal">üòä</div>
            <div class="signature">~ Signature ~</div>
          </div>
        </div>
      </div>

      <!-- ===== SLIDE 2: MEET THE CHARACTERS ===== -->
      <div class="slide" data-slide="2">
        <div class="slide-badge" style="background:var(--red-bg);color:var(--counterfeiter);border:1px solid #f0c0c0;">Step 2 ‚Äî The Players</div>
        <div class="slide-title">Meet The Adversaries</div>

        <div class="vs-container">
          <div class="vs-character">
            <div class="big-avatar" style="background:var(--blue-bg);border:4px solid var(--police);">üëÆ</div>
            <div class="char-name" style="color:var(--police)">Police</div>
            <div class="char-role">= Discriminator Network</div>
            <div style="font-size:13px;color:var(--text-dim);max-width:180px;text-align:center;margin-top:4px;">Inspects bills and decides: <strong>Real or Fake?</strong></div>
          </div>

          <div class="vs-burst">VS</div>

          <div class="vs-character">
            <div class="big-avatar" style="background:var(--red-bg);border:4px solid var(--counterfeiter);">ü¶π</div>
            <div class="char-name" style="color:var(--counterfeiter)">Counterfeiters</div>
            <div class="char-role">= Generator Network</div>
            <div style="font-size:13px;color:var(--text-dim);max-width:180px;text-align:center;margin-top:4px;">Creates fake bills trying to fool the police</div>
          </div>
        </div>
      </div>

      <!-- ===== SLIDE 3: COUNTERFEITER INTRO ===== -->
      <div class="slide" data-slide="3">
        <div class="slide-badge" style="background:var(--red-bg);color:var(--counterfeiter);border:1px solid #f0c0c0;">Step 3 ‚Äî The Generator</div>
        <div class="slide-title" style="color:var(--counterfeiter)">The Counterfeiter</div>
        <div class="slide-subtitle">The Generator takes random noise (blank paper) and tries to create convincing fake currency.</div>

        <div style="display:flex;align-items:center;gap:24px;flex-wrap:wrap;justify-content:center;">
          <div style="font-size:80px;">ü¶π</div>
          <div class="speech-bubble">"Let's make some Money!"</div>
        </div>

        <div style="margin-top:24px;display:flex;align-items:center;gap:16px;flex-wrap:wrap;justify-content:center;">
          <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
            <div style="width:80px;height:50px;background:#f5f5f0;border:2px dashed var(--border);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:11px;color:var(--text-dim);">noise</div>
            <span style="font-family:'JetBrains Mono';font-size:10px;color:var(--text-dim)">Random Input (z)</span>
          </div>
          <span style="font-size:28px;color:var(--blue)">‚Üí</span>
          <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
            <div style="width:80px;height:50px;background:var(--red-bg);border:2px solid var(--counterfeiter);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:24px;">üß†</div>
            <span style="font-family:'JetBrains Mono';font-size:10px;color:var(--text-dim)">Generator G(z)</span>
          </div>
          <span style="font-size:28px;color:var(--blue)">‚Üí</span>
          <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
            <div class="mini-note partial">
              <div class="mini-denom">5?</div>
              <span>Fake bill</span>
            </div>
            <span style="font-family:'JetBrains Mono';font-size:10px;color:var(--text-dim)">Fake Output</span>
          </div>
        </div>
      </div>

      <!-- ===== SLIDE 4: ROUND 1 ‚Äî Fake 95% ===== -->
      <div class="slide" data-slide="4">
        <div class="slide-badge" style="background:var(--red-bg);color:var(--counterfeiter);border:1px solid #f0c0c0;">Round 1</div>
        <div class="slide-title">First Attempt ‚Äî Terrible Fakes!</div>
        <div class="slide-subtitle">The counterfeiter's first bills are <strong>awful</strong>. Just blank paper! The police catches them with <strong>95% confidence</strong>.</div>

        <div class="feedback-bar">
          <svg viewBox="0 0 700 40" fill="none">
            <path d="M620 38 L620 8 L80 8 L80 30" stroke="#7caaf5" stroke-width="4" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="8 4"/>
            <defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#7caaf5"/></marker></defs>
            <rect x="280" y="0" width="140" height="28" rx="6" fill="#dde8fc" stroke="#7caaf5" stroke-width="2"/>
            <text x="350" y="19" text-anchor="middle" font-family="Gabarito" font-weight="700" font-size="13" fill="#2d6cdf">Feedback</text>
          </svg>
        </div>

        <div class="flow-diagram">
          <div class="flow-box"><div class="avatar paper-avatar">üìÑ</div><div class="flow-label">Paper</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar counterfeiter-avatar">ü¶π</div><div class="flow-label" style="color:var(--counterfeiter)">Counterfeiters</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box">
            <div class="avatar market-avatar">
              <div class="mini-note empty" style="width:90%;height:80%;border-color:#ddd;">
                <span style="font-size:10px;color:var(--text-dim)">blank</span>
              </div>
            </div>
            <div class="flow-label">Market</div>
          </div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar police-avatar">üëÆ</div><div class="flow-label" style="color:var(--police)">Police</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="confidence-badge" style="background:var(--red-bg);color:var(--counterfeiter);border:3px solid var(--counterfeiter);">
            Fake<br>95%
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div class="real-stack">
            <div class="stack-note">5</div>
            <div class="stack-note">5</div>
            <div class="stack-note" style="font-size:10px;">5 ‚Äî State Bank of XYZ üòä</div>
          </div>
          <span style="font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono';">‚Üë Real bills for comparison</span>
        </div>
      </div>

      <!-- ===== SLIDE 5: ROUND 2 ‚Äî Fake 80% ===== -->
      <div class="slide" data-slide="5">
        <div class="slide-badge" style="background:var(--yellow-bg);color:var(--orange);border:1px solid #e8d48a;">Round 2</div>
        <div class="slide-title">Getting Better ‚Äî Added Bank Name!</div>
        <div class="slide-subtitle">After feedback, the counterfeiter now adds the <strong>"State Bank of XYZ"</strong> text. But still missing features! Police confidence drops to <strong>80%</strong>.</div>

        <div class="feedback-bar">
          <svg viewBox="0 0 700 40" fill="none">
            <path d="M620 38 L620 8 L80 8 L80 30" stroke="#7caaf5" stroke-width="4" fill="none" marker-end="url(#arrowhead2)" stroke-dasharray="8 4"/>
            <defs><marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#7caaf5"/></marker></defs>
            <rect x="280" y="0" width="140" height="28" rx="6" fill="#dde8fc" stroke="#7caaf5" stroke-width="2"/>
            <text x="350" y="19" text-anchor="middle" font-family="Gabarito" font-weight="700" font-size="13" fill="#2d6cdf">Feedback</text>
          </svg>
        </div>

        <div class="flow-diagram">
          <div class="flow-box"><div class="avatar paper-avatar">üìÑ</div><div class="flow-label">Paper</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar counterfeiter-avatar">ü¶π</div><div class="flow-label" style="color:var(--counterfeiter)">Counterfeiters</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box">
            <div class="avatar market-avatar">
              <div class="mini-note partial" style="width:90%;height:80%;">
                <span style="font-size:8px;font-weight:700;">State Bank of XYZ</span>
              </div>
            </div>
            <div class="flow-label">Market</div>
          </div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar police-avatar">üëÆ</div><div class="flow-label" style="color:var(--police)">Police</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="confidence-badge" style="background:var(--yellow-bg);color:var(--orange);border:3px solid var(--orange);">
            Fake<br>80%
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div class="real-stack">
            <div class="stack-note">5</div>
            <div class="stack-note">5</div>
            <div class="stack-note" style="font-size:10px;">5 ‚Äî State Bank of XYZ üòä</div>
          </div>
          <span style="font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono';">‚Üë Real bills for comparison</span>
        </div>
      </div>

      <!-- ===== SLIDE 6: ROUND 3 ‚Äî Fake 75% ===== -->
      <div class="slide" data-slide="6">
        <div class="slide-badge" style="background:var(--yellow-bg);color:var(--orange);border:1px solid #e8d48a;">Round 3</div>
        <div class="slide-title">More Features Added!</div>
        <div class="slide-subtitle">Now adding the <strong>denomination "5"</strong> and the bank name. Getting closer! Police confidence at <strong>75%</strong>.</div>

        <div class="feedback-bar">
          <svg viewBox="0 0 700 40" fill="none">
            <path d="M620 38 L620 8 L80 8 L80 30" stroke="#7caaf5" stroke-width="4" fill="none" marker-end="url(#arrowhead3)" stroke-dasharray="8 4"/>
            <defs><marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#7caaf5"/></marker></defs>
            <rect x="280" y="0" width="140" height="28" rx="6" fill="#dde8fc" stroke="#7caaf5" stroke-width="2"/>
            <text x="350" y="19" text-anchor="middle" font-family="Gabarito" font-weight="700" font-size="13" fill="#2d6cdf">Feedback</text>
          </svg>
        </div>

        <div class="flow-diagram">
          <div class="flow-box"><div class="avatar paper-avatar">üìÑ</div><div class="flow-label">Paper</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar counterfeiter-avatar">ü¶π</div><div class="flow-label" style="color:var(--counterfeiter)">Counterfeiters</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box">
            <div class="avatar market-avatar">
              <div class="mini-note good" style="width:90%;height:80%;">
                <div class="mini-denom">5</div>
                <span style="font-size:7px;">State Bank of XYZ</span>
              </div>
            </div>
            <div class="flow-label">Market</div>
          </div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar police-avatar">üëÆ</div><div class="flow-label" style="color:var(--police)">Police</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="confidence-badge" style="background:var(--yellow-bg);color:#cc8800;border:3px solid #cc8800;">
            Fake<br>75%
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div class="real-stack">
            <div class="stack-note">5</div>
            <div class="stack-note">5</div>
            <div class="stack-note" style="font-size:10px;">5 ‚Äî State Bank of XYZ üòä</div>
          </div>
          <span style="font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono';">‚Üë Real bills for comparison</span>
        </div>
      </div>

      <!-- ===== SLIDE 7: ROUND 4 ‚Äî Fake 60% ===== -->
      <div class="slide" data-slide="7">
        <div class="slide-badge" style="background:#e8f8e8;color:#2a8a4a;border:1px solid #b0e0b0;">Round 4</div>
        <div class="slide-title">Almost There ‚Äî Signature Added!</div>
        <div class="slide-subtitle">The counterfeiter adds the <strong>signature</strong> too! Only the seal is missing. Police confidence drops to <strong>60%</strong>. It's getting harder!</div>

        <div class="feedback-bar">
          <svg viewBox="0 0 700 40" fill="none">
            <path d="M620 38 L620 8 L80 8 L80 30" stroke="#7caaf5" stroke-width="4" fill="none" marker-end="url(#arrowhead4)" stroke-dasharray="8 4"/>
            <defs><marker id="arrowhead4" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#7caaf5"/></marker></defs>
            <rect x="280" y="0" width="140" height="28" rx="6" fill="#dde8fc" stroke="#7caaf5" stroke-width="2"/>
            <text x="350" y="19" text-anchor="middle" font-family="Gabarito" font-weight="700" font-size="13" fill="#2d6cdf">Feedback</text>
          </svg>
        </div>

        <div class="flow-diagram">
          <div class="flow-box"><div class="avatar paper-avatar">üìÑ</div><div class="flow-label">Paper</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar counterfeiter-avatar">ü¶π</div><div class="flow-label" style="color:var(--counterfeiter)">Counterfeiters</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box">
            <div class="avatar market-avatar">
              <div class="mini-note good" style="width:90%;height:80%;">
                <div class="mini-denom">5</div>
                <span style="font-size:6px;">State Bank of XYZ<br>~ sig ~</span>
              </div>
            </div>
            <div class="flow-label">Market</div>
          </div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar police-avatar">üëÆ</div><div class="flow-label" style="color:var(--police)">Police</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="confidence-badge" style="background:#fff3e0;color:var(--orange);border:3px solid var(--orange);">
            Fake<br>60%
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div class="real-stack">
            <div class="stack-note">5</div>
            <div class="stack-note">5</div>
            <div class="stack-note" style="font-size:10px;">5 ‚Äî State Bank of XYZ üòä</div>
          </div>
          <span style="font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono';">‚Üë Real bills for comparison</span>
        </div>
      </div>

      <!-- ===== SLIDE 8: ROUND 5 ‚Äî Fake 50% (Equilibrium) ===== -->
      <div class="slide" data-slide="8">
        <div class="slide-badge" style="background:var(--green-bg);color:#1a6a3a;border:1px solid #a0d8a0;">Final Round</div>
        <div class="slide-title">Perfect Fakes ‚Äî 50/50!</div>
        <div class="slide-subtitle">All features replicated ‚Äî watermark, denomination, bank name, signature, seal! The police can only <strong>guess</strong> now. <strong>Nash Equilibrium</strong> reached!</div>

        <div class="feedback-bar">
          <svg viewBox="0 0 700 40" fill="none">
            <path d="M620 38 L620 8 L80 8 L80 30" stroke="#7caaf5" stroke-width="4" fill="none" marker-end="url(#arrowhead5)" stroke-dasharray="8 4"/>
            <defs><marker id="arrowhead5" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#7caaf5"/></marker></defs>
            <rect x="280" y="0" width="140" height="28" rx="6" fill="#dde8fc" stroke="#7caaf5" stroke-width="2"/>
            <text x="350" y="19" text-anchor="middle" font-family="Gabarito" font-weight="700" font-size="13" fill="#2d6cdf">Feedback</text>
          </svg>
        </div>

        <div class="flow-diagram">
          <div class="flow-box"><div class="avatar paper-avatar">üìÑ</div><div class="flow-label">Paper</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar counterfeiter-avatar">ü¶π</div><div class="flow-label" style="color:var(--counterfeiter)">Counterfeiters</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box">
            <div class="avatar market-avatar">
              <div class="mini-note good" style="width:90%;height:80%;border-color:var(--currency);background:repeating-linear-gradient(45deg, #fdf6e3, #fdf6e3 2px, #faf3dc 2px, #faf3dc 4px);">
                <div class="mini-denom">5</div>
                <span style="font-size:6px;">State Bank of XYZ<br>~ sig ~ üòä</span>
              </div>
            </div>
            <div class="flow-label">Market</div>
          </div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="flow-box"><div class="avatar police-avatar">üëÆ</div><div class="flow-label" style="color:var(--police)">Police</div></div>
          <div class="flow-arrow animated">‚ûú</div>
          <div class="confidence-badge" style="background:var(--green-bg);color:#1a6a3a;border:3px solid var(--green);">
            Fake<br>50%
            <small>‚öñÔ∏è Can only guess!</small>
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div class="real-stack">
            <div class="stack-note">5</div>
            <div class="stack-note">5</div>
            <div class="stack-note" style="font-size:10px;">5 ‚Äî State Bank of XYZ üòä</div>
          </div>
          <span style="font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono';">‚Üë Identical to real bills!</span>
        </div>
      </div>

      <!-- ===== SLIDE 9: EVOLUTION SUMMARY ===== -->
      <div class="slide" data-slide="9">
        <div class="slide-badge" style="background:var(--blue-bg);color:var(--blue);border:1px solid #b0c8f0;">The Journey</div>
        <div class="slide-title">How The Fakes Evolved</div>
        <div class="slide-subtitle">Watch the counterfeiter's bills improve through each round of feedback.</div>

        <div class="evolve-row" id="evolveRow">
          <div class="evolve-step" data-delay="0">
            <div class="step-label">Round 1</div>
            <div class="step-note blank">Blank<br>Paper</div>
            <div style="font-family:'JetBrains Mono';font-size:11px;color:var(--red);font-weight:700;">95% Fake</div>
          </div>
          <div class="evolve-arrow" data-delay="1">‚Üí</div>
          <div class="evolve-step" data-delay="1">
            <div class="step-label">Round 2</div>
            <div class="step-note bad">Bank<br>Name Only</div>
            <div style="font-family:'JetBrains Mono';font-size:11px;color:var(--orange);font-weight:700;">80% Fake</div>
          </div>
          <div class="evolve-arrow" data-delay="2">‚Üí</div>
          <div class="evolve-step" data-delay="2">
            <div class="step-label">Round 3</div>
            <div class="step-note medium">5 + Bank<br>Name</div>
            <div style="font-family:'JetBrains Mono';font-size:11px;color:#cc8800;font-weight:700;">75% Fake</div>
          </div>
          <div class="evolve-arrow" data-delay="3">‚Üí</div>
          <div class="evolve-step" data-delay="3">
            <div class="step-label">Round 4</div>
            <div class="step-note good">+ Signature<br>Added</div>
            <div style="font-family:'JetBrains Mono';font-size:11px;color:var(--orange);font-weight:700;">60% Fake</div>
          </div>
          <div class="evolve-arrow" data-delay="4">‚Üí</div>
          <div class="evolve-step" data-delay="4">
            <div class="step-label">Round 5</div>
            <div class="step-note perfect">5 üòä<br>Perfect!</div>
            <div style="font-family:'JetBrains Mono';font-size:11px;color:var(--green);font-weight:700;">50% ‚öñÔ∏è</div>
          </div>
        </div>

        <div style="margin-top:24px;text-align:center;max-width:500px;">
          <div style="font-family:'Gabarito';font-weight:700;font-size:18px;color:var(--green);">‚öñÔ∏è Nash Equilibrium</div>
          <div style="font-size:14px;color:var(--text-dim);margin-top:4px;">The generator's fakes become indistinguishable from real data. The discriminator can only output 50% ‚Äî a random guess.</div>
        </div>
      </div>

      <!-- ===== SLIDE 10: THE MATH ===== -->
      <!-- <div class="slide" data-slide="10">
        <div class="slide-badge" style="background:#1a1a2e;color:#ffd740;border:1px solid #333;">The Mathematics</div>
        <div class="slide-title">The GAN Objective</div>
        <div class="slide-subtitle">Both networks play a <strong>minimax game</strong> with this value function:</div>

        <div class="formula-box">
          <div style="margin-bottom:12px;">
            <span class="math-yellow">min</span><sub class="math-red">G</sub>
            <span class="math-yellow">max</span><sub class="math-blue">D</sub>
            V(<span class="math-blue">D</span>, <span class="math-red">G</span>) =
          </div>
          <div>
            ùîº<sub>x~p<sub>data</sub></sub>[log <span class="math-blue">D</span>(x)]
            + ùîº<sub>z~p<sub>z</sub></sub>[log(1 - <span class="math-blue">D</span>(<span class="math-red">G</span>(z)))]
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;max-width:600px;margin-top:24px;">
          <div style="background:var(--red-bg);padding:16px;border-radius:12px;border:1px solid #f0c0c0;">
            <div style="font-family:'Gabarito';font-weight:700;color:var(--counterfeiter);font-size:15px;">ü¶π Generator (min)</div>
            <div style="font-size:13px;color:var(--text-dim);margin-top:4px;">Minimizes the objective ‚Äî wants D(G(z)) to be close to 1 (fool the police)</div>
          </div>
          <div style="background:var(--blue-bg);padding:16px;border-radius:12px;border:1px solid #c0d0f0;">
            <div style="font-family:'Gabarito';font-weight:700;color:var(--police);font-size:15px;">üëÆ Discriminator (max)</div>
            <div style="font-size:13px;color:var(--text-dim);margin-top:4px;">Maximizes the objective ‚Äî wants D(x)=1 for real, D(G(z))=0 for fake</div>
          </div>
        </div>
      </div> -->

      <!-- ===== SLIDE 11: REAL-WORLD APPLICATIONS ===== -->
      <div class="slide" data-slide="11">
        <div class="slide-badge" style="background:var(--green-bg);color:#1a6a3a;border:1px solid #a0d8a0;">Beyond Counterfeiting</div>
        <div class="slide-title">Real-World GAN Applications</div>
        <div class="slide-subtitle">GANs aren't just about fake money ‚Äî they power some of the most exciting AI applications today!</div>

        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;max-width:800px;width:100%;">
          <div class="app-card" style="background:var(--surface);border:2px solid var(--border);border-radius:16px;padding:20px;text-align:center;transition:transform 0.3s;cursor:default;">
            <div style="font-size:40px;margin-bottom:8px;">üé®</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:15px;">Image Generation</div>
            <div style="font-size:12px;color:var(--text-dim);margin-top:4px;">StyleGAN, DALL-E foundations</div>
          </div>
          <div class="app-card" style="background:var(--surface);border:2px solid var(--border);border-radius:16px;padding:20px;text-align:center;transition:transform 0.3s;cursor:default;">
            <div style="font-size:40px;margin-bottom:8px;">üåø</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:15px;">Data Augmentation</div>
            <div style="font-size:12px;color:var(--text-dim);margin-top:4px;">Synthetic training data for agriculture</div>
          </div>
          <div class="app-card" style="background:var(--surface);border:2px solid var(--border);border-radius:16px;padding:20px;text-align:center;transition:transform 0.3s;cursor:default;">
            <div style="font-size:40px;margin-bottom:8px;">üè•</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:15px;">Medical Imaging</div>
            <div style="font-size:12px;color:var(--text-dim);margin-top:4px;">Generate rare disease samples</div>
          </div>
          <div class="app-card" style="background:var(--surface);border:2px solid var(--border);border-radius:16px;padding:20px;text-align:center;transition:transform 0.3s;cursor:default;">
            <div style="font-size:40px;margin-bottom:8px;">üé¨</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:15px;">Super Resolution</div>
            <div style="font-size:12px;color:var(--text-dim);margin-top:4px;">Enhance low-res images (SRGAN)</div>
          </div>
        </div>

        <div style="margin-top:24px;font-family:'JetBrains Mono';font-size:11px;color:var(--text-dim);">
          Goodfellow et al., 2014 ‚Äî <a href="https://arxiv.org/abs/1406.2661" target="_blank" style="color:var(--blue);">arxiv.org/abs/1406.2661</a>
        </div>
      </div>

      <!-- ===== SLIDE 12: PLANT GAN DEMO ===== -->
      <div class="slide" data-slide="12">
        <div class="slide-badge" style="background:#e8f5e9;color:#2e7d32;border:1px solid #a5d6a7;">üå± Real-World Example</div>
        <div class="slide-title">GANs for Plant Phenotyping</div>
        <div class="slide-subtitle">Drag the slider to see how a Generator learns to create realistic plant images ‚Äî from noise to a photorealistic plant!</div>

        <div class="plant-demo-layout">
          <div class="plant-canvas" id="plantCanvas">
            <div class="sun"></div>
            <div class="cloud">‚òÅÔ∏è</div>
            <div class="plant-svg-wrap" id="plantSvgWrap">
              <svg id="plantSvg" viewBox="0 0 180 220"></svg>
            </div>
            <div class="ground-label">Generated Output G(z)</div>
          </div>

          <div class="plant-controls">
            <div style="text-align:center;">
              <div class="plant-epoch-num" id="plantEpochNum" style="color:var(--red);">0</div>
              <div class="plant-epoch-label">Training Epoch</div>
            </div>

            <input type="range" class="plant-slider" id="plantSlider" min="0" max="100" value="0">

            <div style="display:flex;gap:8px;">
              <button class="plant-play-btn" id="plantPlayBtn" onclick="togglePlantAutoplay()">‚ñ∂ Autoplay</button>
              <button class="plant-play-btn" onclick="document.getElementById('plantSlider').value=0;updatePlant(0);" style="background:#fce4e4;color:var(--red);border-color:var(--red);">‚Ü∫ Reset</button>
            </div>

            <div class="plant-desc-card" id="plantDescCard">
              <div class="plant-desc-title" id="plantDescTitle">Epoch 0 ‚Äî Pure Noise</div>
              <div class="plant-desc-text" id="plantDescText">The generator outputs random pixel noise. No plant structure at all ‚Äî just static.</div>
              <div class="plant-quality-bar">
                <div class="plant-quality-fill" id="plantQualityFill" style="width:0%;background:var(--red);"></div>
              </div>
              <div class="plant-feature-chips" id="plantChips">
                <span class="plant-chip inactive">stem</span>
                <span class="plant-chip inactive">leaves</span>
                <span class="plant-chip inactive">color</span>
                <span class="plant-chip inactive">texture</span>
                <span class="plant-chip inactive">veins</span>
                <span class="plant-chip inactive">3D depth</span>
              </div>
            </div>

            <div class="disc-verdict-plant" id="plantVerdict" style="background:var(--red-bg);color:var(--red);">
              üëÆ Discriminator: <strong>100% FAKE</strong>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== SLIDE 13: CLOSING ===== -->
      <div class="slide" data-slide="13">
        <div style="font-size:72px;margin-bottom:16px;">üé≠üåø</div>
        <div class="slide-title">That's GANs!</div>
        <div class="slide-subtitle">Two networks in a constant battle ‚Äî the <strong style="color:var(--counterfeiter)">Generator</strong> creates, the <strong style="color:var(--police)">Discriminator</strong> critiques ‚Äî until the fakes become indistinguishable from reality.</div>

        <div style="display:flex;gap:16px;flex-wrap:wrap;justify-content:center;margin:20px 0;">
          <div style="background:var(--red-bg);border:2px solid #f0c0c0;border-radius:12px;padding:16px 20px;text-align:center;max-width:220px;">
            <div style="font-size:32px;margin-bottom:4px;">ü¶π‚Üíüé®</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:14px;color:var(--counterfeiter)">Generator</div>
            <div style="font-size:11px;color:var(--text-dim);">Learns to create realistic data from random noise</div>
          </div>
          <div style="background:var(--blue-bg);border:2px solid #c0d0f0;border-radius:12px;padding:16px 20px;text-align:center;max-width:220px;">
            <div style="font-size:32px;margin-bottom:4px;">üëÆ‚Üí‚öñÔ∏è</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:14px;color:var(--police)">Discriminator</div>
            <div style="font-size:11px;color:var(--text-dim);">Learns to distinguish real data from generated fakes</div>
          </div>
          <div style="background:var(--green-bg);border:2px solid #a0d8a0;border-radius:12px;padding:16px 20px;text-align:center;max-width:220px;">
            <div style="font-size:32px;margin-bottom:4px;">‚öñÔ∏è=50%</div>
            <div style="font-family:'Gabarito';font-weight:700;font-size:14px;color:#2e7d32">Equilibrium</div>
            <div style="font-size:11px;color:var(--text-dim);">Generator produces perfect fakes, Discriminator can only guess</div>
          </div>
        </div>

        <div style="font-family:'JetBrains Mono';font-size:11px;color:var(--text-dim);margin-top:12px;">
          Goodfellow et al., "Generative Adversarial Nets", NeurIPS 2014 ‚Äî <a href="https://arxiv.org/abs/1406.2661" target="_blank" style="color:var(--blue);">Paper</a>
        </div>
      </div>

    </div>

  </div>

  <!-- ===== Template Footer (OPTIONAL) ===== -->
  <!-- If you want to REMOVE footer: delete this entire block. -->
  <div class="deck-footer">
    <div class="ucph-lockup">
      <div class="l1">University of</div>
      <div class="l2">Copenhagen</div>
    </div>

    <!-- NAV CONTROLS -->
    <!-- <div class="kb-hint"><kbd>‚Üê</kbd> <kbd>‚Üí</kbd> or <kbd>Space</kbd> to navigate</div> -->
    <div class="nav-controls">
      <button class="nav-btn" id="prevBtn" onclick="prevSlide()" disabled>‚Äπ</button>
      <div class="dot-nav" id="dotNav"></div>
      <span class="slide-counter" id="slideCounter">1 / 1</span>
      <button class="nav-btn" id="nextBtn" onclick="nextSlide()">‚Ä∫</button>
    </div>

    <div class="deck-date">February 14, 2026</div>
  </div>
  <div class="bottom-accent"></div>

</div>

<script>
  // ===== SLIDE ENGINE =====
  let currentSlide = 0;
  const slides = document.querySelectorAll('#slidesWrapper .slide');
  const totalSlides = slides.length;
  const dotNav = document.getElementById('dotNav');
  const progressFill = document.getElementById('progressFill');
  const slideCounter = document.getElementById('slideCounter');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  // Create dots
  for (let i = 0; i < totalSlides; i++) {
    const dot = document.createElement('div');
    dot.className = 'dot' + (i === 0 ? ' active' : '');
    dot.onclick = () => goToSlide(i);
    dotNav.appendChild(dot);
  }

  function updateSlide() {
    slides.forEach((s, i) => {
      s.classList.remove('active', 'exit');
      if (i === currentSlide) s.classList.add('active');
      else if (i < currentSlide) s.classList.add('exit');
    });

    dotNav.querySelectorAll('.dot').forEach((d, i) => {
      d.classList.toggle('active', i === currentSlide);
    });

    progressFill.style.width = `${((currentSlide) / (totalSlides - 1)) * 100}%`;
    slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
    prevBtn.disabled = currentSlide === 0;
    nextBtn.disabled = currentSlide === totalSlides - 1;

    // Trigger slide-specific animations
    triggerSlideAnimations(currentSlide);
  }

    function nextSlide() {
    if (currentSlide < totalSlides - 1) {
        currentSlide++;
        updateSlide();
    } else {
        // ‚úÖ at end of inner deck ‚Üí tell parent to go to slide 4
        if (window.parent && window.parent !== window) {
        window.parent.postMessage({ type: 'DECK_NEXT' }, location.origin);
        }
    }
    }

    function prevSlide() {
    if (currentSlide > 0) {
        currentSlide--;
        updateSlide();
    } else {
        // ‚úÖ at start of inner deck ‚Üí tell parent to go back to slide 2
        if (window.parent && window.parent !== window) {
        window.parent.postMessage({ type: 'DECK_PREV' }, location.origin);
        }
    }
    }


  function goToSlide(n) {
    currentSlide = n;
    updateSlide();
  }

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    e.stopPropagation();
    e.preventDefault();

    if (e.key === 'ArrowRight' || e.key === ' ') {
      nextSlide();
    }
    else if (e.key === 'ArrowLeft') {
      prevSlide();
    }
  });


  // Touch swipe
  let touchStartX = 0;
  document.addEventListener('touchstart', (e) => { touchStartX = e.touches[0].clientX; });
  document.addEventListener('touchend', (e) => {
    const diff = touchStartX - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 50) {
      if (diff > 0) nextSlide(); else prevSlide();
    }
  });

  // ===== SLIDE ANIMATIONS =====
  function triggerSlideAnimations(slideIndex) {
    // If you REMOVE slides before these, update these indices:
    // - Features slide (currently 1)
    // - Evolution slide (currently 9)
    // - Apps slide (currently 11)
    // - Plant demo slide (currently 12)

    if (slideIndex === 1) {
      const features = document.querySelectorAll('#featuresCol .feature-item');
      features.forEach((f, i) => {
        setTimeout(() => f.classList.add('show'), 300 + i * 250);
      });
    }

    if (slideIndex === 9) {
      const steps = document.querySelectorAll('#evolveRow .evolve-step, #evolveRow .evolve-arrow');
      steps.forEach((s) => {
        const delay = parseInt(s.dataset.delay || 0);
        setTimeout(() => s.classList.add('show'), 200 + delay * 350);
      });
    }

    if (slideIndex === 11) {
      document.querySelectorAll('.app-card').forEach(c => {
        c.onmouseenter = () => c.style.transform = 'translateY(-6px)';
        c.onmouseleave = () => c.style.transform = '';
      });
    }

    if (slideIndex === 12) {
      const slider = document.getElementById('plantSlider');
      if (slider) updatePlant(parseInt(slider.value));
    }
  }

  // ===== PLANT GAN LOGIC =====
  const plantStages = [
    { maxEpoch: 5,  title: 'Epoch 0‚Äì5 ‚Äî Pure Noise', desc: 'The generator outputs random pixel noise. No plant structure at all ‚Äî just colorful static.', features: [], color: '#e74c3c', fakePercent: 100 },
    { maxEpoch: 15, title: 'Epoch 5‚Äì15 ‚Äî Blobs Emerge', desc: 'Vague green blobs appear. The generator is learning that plants are green, but no structure yet.', features: ['color'], color: '#e67e22', fakePercent: 90 },
    { maxEpoch: 30, title: 'Epoch 15‚Äì30 ‚Äî Basic Stem', desc: 'A vertical stem structure forms. The generator has discovered the central axis of plant growth.', features: ['color', 'stem'], color: '#f0c940', fakePercent: 80 },
    { maxEpoch: 50, title: 'Epoch 30‚Äì50 ‚Äî Leaves Appear', desc: 'Leaf-like shapes branch off the stem. Proportions are still off but the basic morphology is there.', features: ['color', 'stem', 'leaves'], color: '#e8b030', fakePercent: 70 },
    { maxEpoch: 70, title: 'Epoch 50‚Äì70 ‚Äî Texture Improves', desc: 'Leaf textures become more detailed. Color gradients and surface patterns start appearing.', features: ['color', 'stem', 'leaves', 'texture'], color: '#8cc63f', fakePercent: 65 },
    { maxEpoch: 85, title: 'Epoch 70‚Äì85 ‚Äî Vein Details', desc: 'Fine leaf veins, serrated edges, and realistic color variation emerge. Getting very realistic!', features: ['color', 'stem', 'leaves', 'texture', 'veins'], color: '#4caf50', fakePercent: 60 },
    { maxEpoch: 100, title: 'Epoch 85‚Äì100 ‚Äî Photorealistic!', desc: 'Full 3D depth, natural lighting, perfect morphology. The discriminator can barely tell it from a real photo!', features: ['color', 'stem', 'leaves', 'texture', 'veins', '3D depth'], color: '#2e7d32', fakePercent: 50 },
  ];

  function getPlantStage(epoch) {
    for (let i = plantStages.length - 1; i >= 0; i--) {
      if (i === 0) return plantStages[0];
      if (epoch > plantStages[i - 1].maxEpoch) return plantStages[i];
    }
    return plantStages[0];
  }

  function updatePlant(epoch) {
    const stage = getPlantStage(epoch);
    const t = epoch / 100;

    const epochNum = document.getElementById('plantEpochNum');
    epochNum.textContent = epoch;
    epochNum.style.color = stage.color;

    document.getElementById('plantDescTitle').textContent = stage.title;
    document.getElementById('plantDescText').textContent = stage.desc;

    const fill = document.getElementById('plantQualityFill');
    fill.style.width = `${t * 100}%`;
    fill.style.background = stage.color;

    const allFeatures = ['stem', 'leaves', 'color', 'texture', 'veins', '3D depth'];
    const chipsContainer = document.getElementById('plantChips');
    chipsContainer.innerHTML = allFeatures.map(f => {
      const active = stage.features.includes(f);
      return `<span class="plant-chip ${active ? 'active' : 'inactive'}">${active ? '‚úì ' : ''}${f}</span>`;
    }).join('');

    const verdict = document.getElementById('plantVerdict');
    const fp = stage.fakePercent;
    if (fp > 80) {
      verdict.style.background = '#fce4e4'; verdict.style.color = '#e74c3c';
      verdict.innerHTML = `üëÆ Discriminator: <strong>${fp}% FAKE</strong> ‚Äî "Obvious noise!"`;
    } else if (fp > 70) {
      verdict.style.background = '#fff3e0'; verdict.style.color = '#e67e22';
      verdict.innerHTML = `üëÆ Discriminator: <strong>${fp}% FAKE</strong> ‚Äî "Something's off..."`;
    } else if (fp > 55) {
      verdict.style.background = '#fef9e7'; verdict.style.color = '#cc8800';
      verdict.innerHTML = `üëÆ Discriminator: <strong>${fp}% FAKE</strong> ‚Äî "Little Fake! üò∞"`;
    } 
     else if (fp >= 50) {
      verdict.style.background = '#e8f5e9'; verdict.style.color = '#2e7d32';
      verdict.innerHTML = `üëÆ Discriminator: <strong>${fp}% FAKE</strong> ‚Äî "Hmm, not sure..."`;
    }

    drawPlantSVG(t, epoch);
  }

  function drawPlantSVG(t, epoch) {
    const svg = document.getElementById('plantSvg');
    let html = '';
    const cx = 90, base = 210;

    if (epoch < 5) {
      for (let i = 0; i < 60; i++) {
        const x = 20 + Math.random() * 140;
        const y = 20 + Math.random() * 180;
        const r = 2 + Math.random() * 6;
        const colors = ['#e74c3c','#3498db','#f1c40f','#2ecc71','#9b59b6','#e67e22'];
        const c = colors[Math.floor(Math.random() * colors.length)];
        const opacity = 0.3 + Math.random() * 0.5;
        html += `<circle cx="${x}" cy="${y}" r="${r}" fill="${c}" opacity="${opacity}"/>`;
      }
    } else {
      const stemProgress = Math.min(1, Math.max(0, (t - 0.05) / 0.25));
      const leafProgress = Math.min(1, Math.max(0, (t - 0.25) / 0.3));
      const detailProgress = Math.min(1, Math.max(0, (t - 0.5) / 0.3));
      const perfectionProgress = Math.min(1, Math.max(0, (t - 0.7) / 0.3));

      if (t < 0.3) {
        const blobOpacity = Math.max(0, 0.4 - t);
        for (let i = 0; i < 10; i++) {
          const x = 40 + Math.random() * 100;
          const y = 40 + Math.random() * 140;
          const r = 8 + Math.random() * 20;
          html += `<circle cx="${x}" cy="${y}" r="${r}" fill="#4caf50" opacity="${blobOpacity}"/>`;
        }
      }

      if (stemProgress > 0) {
        const stemHeight = 40 + stemProgress * 130;
        const stemWidth = 3 + detailProgress * 3;
        const stemColor = `rgb(${80 - perfectionProgress * 20}, ${140 + perfectionProgress * 40}, ${60 - perfectionProgress * 10})`;
        html += `<path d="M${cx},${base} Q${cx - 2 + perfectionProgress * 4},${base - stemHeight * 0.5} ${cx},${base - stemHeight}" stroke="${stemColor}" stroke-width="${stemWidth}" fill="none" stroke-linecap="round"/>`;

        if (detailProgress > 0.3) {
          for (let i = 0; i < 5 * detailProgress; i++) {
            const y = base - 20 - i * (stemHeight / 6);
            html += `<line x1="${cx - stemWidth / 2}" y1="${y}" x2="${cx + stemWidth / 2}" y2="${y + 2}" stroke="rgba(0,80,0,${detailProgress * 0.2})" stroke-width="0.5"/>`;
          }
        }
      }

      if (leafProgress > 0) {
        const leafPairs = Math.floor(1 + leafProgress * 4);
        for (let i = 0; i < leafPairs; i++) {
          const yOff = base - 50 - i * 30 * stemProgress;
          const leafLen = (20 + leafProgress * 25 + perfectionProgress * 10) * (1 - i * 0.1);
          const leafWid = 8 + leafProgress * 8 + perfectionProgress * 4;
          const angle = 25 + perfectionProgress * 10;
          const droopY = 5 - perfectionProgress * 3;

          const g1 = `rgb(${60 + (1 - perfectionProgress) * 50}, ${160 + perfectionProgress * 60}, ${50 + perfectionProgress * 20})`;
          const g2 = `rgb(${40 + (1 - perfectionProgress) * 40}, ${130 + perfectionProgress * 50}, ${40 + perfectionProgress * 15})`;

          html += `<ellipse cx="${cx - leafLen * 0.6}" cy="${yOff + droopY}" rx="${leafLen}" ry="${leafWid}" transform="rotate(-${angle}, ${cx}, ${yOff})" fill="${g1}" opacity="${0.6 + perfectionProgress * 0.35}"/>`;
          html += `<ellipse cx="${cx + leafLen * 0.6}" cy="${yOff + droopY}" rx="${leafLen}" ry="${leafWid}" transform="rotate(${angle}, ${cx}, ${yOff})" fill="${g2}" opacity="${0.6 + perfectionProgress * 0.35}"/>`;

          if (detailProgress > 0.3) {
            const veinOpacity = detailProgress * 0.4;
            html += `<line x1="${cx - 4}" y1="${yOff}" x2="${cx - leafLen * 1.1}" y2="${yOff + droopY + 2}" stroke="rgba(30,80,20,${veinOpacity})" stroke-width="0.8" transform="rotate(-${angle}, ${cx}, ${yOff})"/>`;
            html += `<line x1="${cx + 4}" y1="${yOff}" x2="${cx + leafLen * 1.1}" y2="${yOff + droopY + 2}" stroke="rgba(30,80,20,${veinOpacity})" stroke-width="0.8" transform="rotate(${angle}, ${cx}, ${yOff})"/>`;

            if (perfectionProgress > 0.3) {
              for (let v = 1; v <= 3; v++) {
                const vx = v * leafLen * 0.25;
                html += `<line x1="${cx - vx - 2}" y1="${yOff - 1}" x2="${cx - vx - leafWid * 0.6}" y2="${yOff + droopY + leafWid * 0.3}" stroke="rgba(30,80,20,${veinOpacity * 0.5})" stroke-width="0.4" transform="rotate(-${angle}, ${cx}, ${yOff})"/>`;
                html += `<line x1="${cx + vx + 2}" y1="${yOff - 1}" x2="${cx + vx + leafWid * 0.6}" y2="${yOff + droopY + leafWid * 0.3}" stroke="rgba(30,80,20,${veinOpacity * 0.5})" stroke-width="0.4" transform="rotate(${angle}, ${cx}, ${yOff})"/>`;
              }
            }
          }

          if (perfectionProgress > 0.5) {
            const serrOpacity = (perfectionProgress - 0.5) * 0.6;
            html += `<ellipse cx="${cx - leafLen * 0.6}" cy="${yOff + droopY}" rx="${leafLen + 1}" ry="${leafWid + 1}" transform="rotate(-${angle}, ${cx}, ${yOff})" fill="none" stroke="rgba(30,100,20,${serrOpacity})" stroke-width="0.6" stroke-dasharray="2 2"/>`;
            html += `<ellipse cx="${cx + leafLen * 0.6}" cy="${yOff + droopY}" rx="${leafLen + 1}" ry="${leafWid + 1}" transform="rotate(${angle}, ${cx}, ${yOff})" fill="none" stroke="rgba(30,100,20,${serrOpacity})" stroke-width="0.6" stroke-dasharray="2 2"/>`;
          }
        }

        if (leafProgress > 0.5) {
          const topY = base - 50 - leafPairs * 30 * stemProgress;
          html += `<ellipse cx="${cx}" cy="${topY}" rx="${6 + perfectionProgress * 4}" ry="${12 + perfectionProgress * 6}" fill="rgb(100,${180 + perfectionProgress * 40},70)" opacity="${0.7 + perfectionProgress * 0.25}"/>`;
        }
      }

      if (perfectionProgress > 0.3) {
        const shadowOpacity = (perfectionProgress - 0.3) * 0.15;
        html += `<ellipse cx="${cx + 8}" cy="${base + 2}" rx="${30 + leafProgress * 20}" ry="${4}" fill="rgba(0,0,0,${shadowOpacity})"/>`;
      }

      if (stemProgress > 0.5) {
        html += `<ellipse cx="${cx}" cy="${base + 3}" rx="${12 + perfectionProgress * 8}" ry="${3 + perfectionProgress * 2}" fill="#7a5c30" opacity="0.4"/>`;
      }
    }

    svg.innerHTML = html;
  }

  // Plant slider hookup (NOTE: if you remove slide 12, also remove this listener)
  const plantSliderEl = document.getElementById('plantSlider');
  if (plantSliderEl) {
    plantSliderEl.addEventListener('input', function() {
      updatePlant(parseInt(this.value));
    });
  }

  // Autoplay
  let plantAutoplay = null;
  function togglePlantAutoplay() {
    const btn = document.getElementById('plantPlayBtn');
    const slider = document.getElementById('plantSlider');
    if (!btn || !slider) return;

    if (plantAutoplay) {
      clearInterval(plantAutoplay);
      plantAutoplay = null;
      btn.textContent = '‚ñ∂ Autoplay';
      btn.style.background = '#d5f5e3';
      btn.style.color = '#1a6a3a';
    } else {
      if (parseInt(slider.value) >= 100) { slider.value = 0; updatePlant(0); }
      btn.textContent = '‚è∏ Pause';
      btn.style.background = '#2e7d32';
      btn.style.color = 'white';
      plantAutoplay = setInterval(() => {
        let v = parseInt(slider.value);
        if (v >= 100) { togglePlantAutoplay(); return; }
        v += 1;
        slider.value = v;
        updatePlant(v);
      }, 120);
    }
  }

  // Init
  updateSlide();
</script>

</body>
</html>
